<mat-form-field>
  <input matInput placeholder="Input RNA symbol" #input />
  <button mat-icon-button color="warn" matPrefix>
    <mat-icon>search</mat-icon>
  </button>
</mat-form-field>

<div class="spinner-container" *ngIf="dataSource.loading$ | async">
  <mat-progress-bar mode="query" color="warn"></mat-progress-bar>
</div>

<mat-table class="mat-elevation-z8" [dataSource]="dataSource" matSort matSortActive="avg" matSortDirection="desc" matSortDisableClear>
  <ng-container matColumnDef="symbol">
    <mat-header-cell *matHeaderCellDef>Symbol</mat-header-cell>
    <mat-cell *matCellDef="let rna">
      <a (click)="goToDetail(rna.GeneSymbol)">{{ rna.GeneSymbol }}</a>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="avg">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Average expression (RPM)</mat-header-cell>
    <mat-cell *matCellDef="let rna">
      {{ rna.avg | number }}
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="count">
    <mat-header-cell *matHeaderCellDef>Expressed in number of samples</mat-header-cell>
    <mat-cell *matCellDef="let rna">
      {{ rna.count | number }}
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>

  <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
</mat-table>

<mat-paginator [length]="dataSource.resultLength" [pageSize]="10" [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>
